## 3.2 方法区的回收
方法区的垃圾回收主要有两部分内容：废弃常量和无用的类。
### 1. 废弃常量
当一个常量池中的常量在系统中没有任何引用后，此时若发生内存回收而且必要的话，该常量会被清理出常量池。（如字符串常量，各种类、方法、字段的符号引用等）
### 2. 无用的类
判断一个类是否无用的条件较苛刻，需同时满足3个条件：
- 该类的所有实例都已被回收；
- 加载该类的 ClassLoader 已被回收；
- 该类对应的 java.lang.Class 对象没有在任何地方被引用，无法在任何地方通过反射来访问该类的方法。

在大量使用反射、动态代理、CGLib 等 ByteCode 框架、动态生成JSP以及OSGi这类频繁定义 ClassLoader 的场景都需要 JVM 具备类卸载功能，以保证方法区不会溢出。